visits <- cut(k_event_df$visits, COLOR_BINS)
colors <- color_palette[as.numeric(visits)]
add_k_to_map <- function(k_days, afghanistan) {
k_days_df <- k_event_df[which(k_event_df$visit_day - k_event_df$impact_day == k_days),]
afghanistan@data$visits = 0
for (i in 1:nrow(k_days_df)) {
#print(k15_df[i, 'visits'])
afghanistan@data$visits[afghanistan@data$DISTID == k_days_df[i, 'destination_district']] <- k_days_df[i, 'visits']
}
plot(afghanistan, col=colors, bg="#A6CAE0", main=k_days+" Days After")
}
add_k_to_map(15, afghanistan)
afghanistan@data$DISTID = as.numeric(afghanistan@data$DISTID)
visits <- cut(k_event_df$visits, COLOR_BINS)
colors <- color_palette[as.numeric(visits)]
add_k_to_map <- function(k_days, afghanistan) {
k_days_df <- k_event_df[which(k_event_df$visit_day - k_event_df$impact_day == k_days),]
afghanistan@data$visits = 0
for (i in 1:nrow(k_days_df)) {
#print(k15_df[i, 'visits'])
afghanistan@data$visits[afghanistan@data$DISTID == k_days_df[i, 'destination_district']] <- k_days_df[i, 'visits']
}
plot(afghanistan, col=colors, bg="#A6CAE0", main=(k_days+" Days After"))
}
add_k_to_map(15, afghanistan)
afghanistan@data$DISTID = as.numeric(afghanistan@data$DISTID)
visits <- cut(k_event_df$visits, COLOR_BINS)
colors <- color_palette[as.numeric(visits)]
add_k_to_map <- function(k_days, afghanistan) {
k_days_df <- k_event_df[which(k_event_df$visit_day - k_event_df$impact_day == k_days),]
afghanistan@data$visits = 0
for (i in 1:nrow(k_days_df)) {
#print(k15_df[i, 'visits'])
afghanistan@data$visits[afghanistan@data$DISTID == k_days_df[i, 'destination_district']] <- k_days_df[i, 'visits']
}
plot(afghanistan, col=colors, bg="#A6CAE0", main=("dick Days After"))
}
add_k_to_map(15, afghanistan)
add_k_to_map(30, afghanistan)
add_k_to_map(45, afghanistan)
add_k_to_map(30, afghanistan)
add_k_to_map(75, afghanistan)
add_k_to_map(90, afghanistan)
add_k_to_map(105, afghanistan)
add_k_to_map(120, afghanistan)
# attribute colors to the map
#visits_per_district <- cut(k15_df@$visits. )
afghanistan@data$DISTID = as.numeric(afghanistan@data$DISTID)
visits <- cut(k_event_df$visits, COLOR_BINS)
colors <- color_palette[as.numeric(visits)]
add_k_to_map <- function(k_days, afghanistan) {
k_days_df <- k_event_df[which(k_event_df$visit_day - k_event_df$impact_day == k_days),]
afghanistan@data$visits = 0
for (i in 1:nrow(k_days_df)) {
#print(k15_df[i, 'visits'])
afghanistan@data$visits[afghanistan@data$DISTID == k_days_df[i, 'destination_district']] <- k_days_df[i, 'visits']
}
title = paste(k_days, "Days After", sep=" ")
plot(afghanistan, col=colors, bg="#A6CAE0", main=title)
}
add_k_to_map(15, afghanistan)
add_k_to_map(30, afghanistan)
add_k_to_map(45, afghanistan)
add_k_to_map(30, afghanistan)
add_k_to_map(75, afghanistan)
add_k_to_map(90, afghanistan)
add_k_to_map(105, afghanistan)
add_k_to_map(120, afghanistan)
# attribute colors to the map
#visits_per_district <- cut(k15_df@$visits. )
afghanistan@data$DISTID = as.numeric(afghanistan@data$DISTID)
visits <- cut(k_event_df$visits, COLOR_BINS)
colors <- color_palette[as.numeric(visits)]
add_k_to_map <- function(k_days, afghanistan) {
k_days_df <- k_event_df[which(k_event_df$visit_day - k_event_df$impact_day == k_days),]
afghanistan@data$visits = 0
for (i in 1:nrow(k_days_df)) {
#print(k15_df[i, 'visits'])
afghanistan@data$visits[afghanistan@data$DISTID == k_days_df[i, 'destination_district']] <- k_days_df[i, 'visits']
}
title = paste(k_days, "Days After", sep=" ")
plot(afghanistan, col=colors, bg="#A6CAE0", main=title, cex.main=2)
}
add_k_to_map(15, afghanistan)
add_k_to_map(30, afghanistan)
add_k_to_map(45, afghanistan)
add_k_to_map(30, afghanistan)
add_k_to_map(75, afghanistan)
add_k_to_map(90, afghanistan)
add_k_to_map(105, afghanistan)
add_k_to_map(120, afghanistan)
# attribute colors to the map
#visits_per_district <- cut(k15_df@$visits. )
afghanistan@data$DISTID = as.numeric(afghanistan@data$DISTID)
visits <- cut(k_event_df$visits, COLOR_BINS)
colors <- color_palette[as.numeric(visits)]
add_k_to_map <- function(k_days, afghanistan) {
k_days_df <- k_event_df[which(k_event_df$visit_day - k_event_df$impact_day == k_days),]
afghanistan@data$visits = 0
for (i in 1:nrow(k_days_df)) {
#print(k15_df[i, 'visits'])
afghanistan@data$visits[afghanistan@data$DISTID == k_days_df[i, 'destination_district']] <- k_days_df[i, 'visits']
}
title = paste(k_days, "Days After", sep=" ")
plot(afghanistan, col=colors, bg="#A6CAE0", main=title, cex.main=10)
}
add_k_to_map(15, afghanistan)
add_k_to_map(30, afghanistan)
add_k_to_map(45, afghanistan)
add_k_to_map(30, afghanistan)
add_k_to_map(75, afghanistan)
add_k_to_map(90, afghanistan)
add_k_to_map(105, afghanistan)
add_k_to_map(120, afghanistan)
# attribute colors to the map
#visits_per_district <- cut(k15_df@$visits. )
afghanistan@data$DISTID = as.numeric(afghanistan@data$DISTID)
visits <- cut(k_event_df$visits, COLOR_BINS)
colors <- color_palette[as.numeric(visits)]
add_k_to_map <- function(k_days, afghanistan) {
k_days_df <- k_event_df[which(k_event_df$visit_day - k_event_df$impact_day == k_days),]
afghanistan@data$visits = 0
for (i in 1:nrow(k_days_df)) {
#print(k15_df[i, 'visits'])
afghanistan@data$visits[afghanistan@data$DISTID == k_days_df[i, 'destination_district']] <- k_days_df[i, 'visits']
}
title = paste(k_days, "Days After", sep=" ")
plot(afghanistan, col=colors, bg="#A6CAE0", main=title, cex.main=10)
}
add_k_to_map(15, afghanistan)
add_k_to_map(30, afghanistan)
add_k_to_map(45, afghanistan)
add_k_to_map(60, afghanistan)
add_k_to_map(75, afghanistan)
add_k_to_map(90, afghanistan)
add_k_to_map(105, afghanistan)
add_k_to_map(120, afghanistan)
# attribute colors to the map
#visits_per_district <- cut(k15_df@$visits. )
afghanistan@data$DISTID = as.numeric(afghanistan@data$DISTID)
visits <- cut(k_event_df$visits, COLOR_BINS)
colors <- color_palette[as.numeric(visits)]
add_k_to_map <- function(k_days, afghanistan) {
k_days_df <- k_event_df[which(k_event_df$visit_day - k_event_df$impact_day == k_days),]
afghanistan@data$visits = 0
for (i in 1:nrow(k_days_df)) {
#print(k15_df[i, 'visits'])
afghanistan@data$visits[afghanistan@data$DISTID == k_days_df[i, 'destination_district']] <- k_days_df[i, 'visits']
}
title = paste(k_days, "Days After", sep=" ")
plot(afghanistan, col=colors, bg="#A6CAE0", main=title, cex.main=10, cex.sub=1.5)
}
add_k_to_map(15, afghanistan)
add_k_to_map(30, afghanistan)
add_k_to_map(45, afghanistan)
add_k_to_map(60, afghanistan)
afghanistan@data$DISTID = as.numeric(afghanistan@data$DISTID)
visits <- cut(k_event_df$visits, COLOR_BINS)
colors <- color_palette[as.numeric(visits)]
add_k_to_map <- function(k_days, afghanistan) {
k_days_df <- k_event_df[which(k_event_df$visit_day - k_event_df$impact_day == k_days),]
afghanistan@data$visits = 0
for (i in 1:nrow(k_days_df)) {
#print(k15_df[i, 'visits'])
afghanistan@data$visits[afghanistan@data$DISTID == k_days_df[i, 'destination_district']] <- k_days_df[i, 'visits']
}
title = paste(k_days, "Days After", sep=" ")
plot(afghanistan, col=colors, bg="#A6CAE0", main=title, cex.main=10, cex.sub=5)
}
add_k_to_map(15, afghanistan)
add_k_to_map(30, afghanistan)
add_k_to_map(45, afghanistan)
add_k_to_map(60, afghanistan)
add_k_to_map(75, afghanistan)
add_k_to_map(90, afghanistan)
add_k_to_map(105, afghanistan)
add_k_to_map(120, afghanistan)
# attribute colors to the map
#visits_per_district <- cut(k15_df@$visits. )
afghanistan@data$DISTID = as.numeric(afghanistan@data$DISTID)
visits <- cut(k_event_df$visits, COLOR_BINS)
colors <- color_palette[as.numeric(visits)]
add_k_to_map <- function(k_days, afghanistan) {
k_days_df <- k_event_df[which(k_event_df$visit_day - k_event_df$impact_day == k_days),]
afghanistan@data$visits = 0
for (i in 1:nrow(k_days_df)) {
#print(k15_df[i, 'visits'])
afghanistan@data$visits[afghanistan@data$DISTID == k_days_df[i, 'destination_district']] <- k_days_df[i, 'visits']
}
title = paste(k_days, "Days After", sep=" ")
plot(afghanistan, col=colors, bg="#A6CAE0", main=title, cex.main=10, cex.sub=5)
}
add_k_to_map(15, afghanistan)
add_k_to_map(30, afghanistan)
add_k_to_map(45, afghanistan)
add_k_to_map(60, afghanistan)
add_k_to_map(75, afghanistan)
add_k_to_map(90, afghanistan)
add_k_to_map(105, afghanistan)
add_k_to_map(120, afghanistan)
# attribute colors to the map
#visits_per_district <- cut(k15_df@$visits. )
afghanistan@data$DISTID = as.numeric(afghanistan@data$DISTID)
visits <- cut(k_event_df$visits, COLOR_BINS)
colors <- color_palette[as.numeric(visits)]
add_k_to_map <- function(k_days, afghanistan) {
k_days_df <- k_event_df[which(k_event_df$visit_day - k_event_df$impact_day == k_days),]
afghanistan@data$visits = 0
for (i in 1:nrow(k_days_df)) {
#print(k15_df[i, 'visits'])
afghanistan@data$visits[afghanistan@data$DISTID == k_days_df[i, 'destination_district']] <- k_days_df[i, 'visits']
}
title = paste(k_days, "Days After", sep=" ")
plot(afghanistan, col=colors, bg="#A6CAE0", main=title, cex.main=10, cex.sub=05)
}
add_k_to_map(15, afghanistan)
add_k_to_map(30, afghanistan)
add_k_to_map(45, afghanistan)
add_k_to_map(60, afghanistan)
afghanistan@data$DISTID = as.numeric(afghanistan@data$DISTID)
visits <- cut(k_event_df$visits, COLOR_BINS)
colors <- color_palette[as.numeric(visits)]
add_k_to_map <- function(k_days, afghanistan) {
k_days_df <- k_event_df[which(k_event_df$visit_day - k_event_df$impact_day == k_days),]
afghanistan@data$visits = 0
for (i in 1:nrow(k_days_df)) {
#print(k15_df[i, 'visits'])
afghanistan@data$visits[afghanistan@data$DISTID == k_days_df[i, 'destination_district']] <- k_days_df[i, 'visits']
}
title = paste(k_days, "Days After", sep=" ")
plot(afghanistan, col=colors, bg="#A6CAE0", main=title, cex.main=10, cex.sub=-5)
}
add_k_to_map(15, afghanistan)
afghanistan@data$DISTID = as.numeric(afghanistan@data$DISTID)
visits <- cut(k_event_df$visits, COLOR_BINS)
colors <- color_palette[as.numeric(visits)]
add_k_to_map <- function(k_days, afghanistan) {
k_days_df <- k_event_df[which(k_event_df$visit_day - k_event_df$impact_day == k_days),]
afghanistan@data$visits = 0
for (i in 1:nrow(k_days_df)) {
#print(k15_df[i, 'visits'])
afghanistan@data$visits[afghanistan@data$DISTID == k_days_df[i, 'destination_district']] <- k_days_df[i, 'visits']
}
title = paste(k_days, "Days After", sep=" ")
plot(afghanistan, col=colors, bg="#A6CAE0", main=title, cex.main=10, cex.sub=-5)
}
add_k_to_map(15, afghanistan)
afghanistan@data$DISTID = as.numeric(afghanistan@data$DISTID)
visits <- cut(k_event_df$visits, COLOR_BINS)
colors <- color_palette[as.numeric(visits)]
add_k_to_map <- function(k_days, afghanistan) {
k_days_df <- k_event_df[which(k_event_df$visit_day - k_event_df$impact_day == k_days),]
afghanistan@data$visits = 0
for (i in 1:nrow(k_days_df)) {
#print(k15_df[i, 'visits'])
afghanistan@data$visits[afghanistan@data$DISTID == k_days_df[i, 'destination_district']] <- k_days_df[i, 'visits']
}
title = paste(k_days, "Days After", sep=" ")
plot(afghanistan, col=colors, bg="#A6CAE0", main=title, cex.main=10)
}
add_k_to_map(15, afghanistan)
add_k_to_map(30, afghanistan)
add_k_to_map(45, afghanistan)
add_k_to_map(60, afghanistan)
add_k_to_map(75, afghanistan)
add_k_to_map(90, afghanistan)
add_k_to_map(105, afghanistan)
add_k_to_map(120, afghanistan)
# attribute colors to the map
#visits_per_district <- cut(k15_df@$visits. )
afghanistan@data$DISTID = as.numeric(afghanistan@data$DISTID)
visits <- cut(k_event_df$visits, COLOR_BINS)
colors <- color_palette[as.numeric(visits)]
add_k_to_map <- function(k_days, afghanistan) {
k_days_df <- k_event_df[which(k_event_df$visit_day - k_event_df$impact_day == k_days),]
afghanistan@data$visits = 0
for (i in 1:nrow(k_days_df)) {
#print(k15_df[i, 'visits'])
afghanistan@data$visits[afghanistan@data$DISTID == k_days_df[i, 'destination_district']] <- k_days_df[i, 'visits']
}
title = paste(k_days, "Days After", sep=" ")
plot(afghanistan, col=colors, bg="#A6CAE0") + text(title)
}
add_k_to_map(15, afghanistan)
add_k_to_map(30, afghanistan)
add_k_to_map(45, afghanistan)
add_k_to_map(60, afghanistan)
add_k_to_map(75, afghanistan)
add_k_to_map(90, afghanistan)
add_k_to_map(105, afghanistan)
add_k_to_map(120, afghanistan)
# attribute colors to the map
#visits_per_district <- cut(k15_df@$visits. )
afghanistan@data$DISTID = as.numeric(afghanistan@data$DISTID)
visits <- cut(k_event_df$visits, COLOR_BINS)
colors <- color_palette[as.numeric(visits)]
add_k_to_map <- function(k_days, afghanistan) {
k_days_df <- k_event_df[which(k_event_df$visit_day - k_event_df$impact_day == k_days),]
afghanistan@data$visits = 0
for (i in 1:nrow(k_days_df)) {
#print(k15_df[i, 'visits'])
afghanistan@data$visits[afghanistan@data$DISTID == k_days_df[i, 'destination_district']] <- k_days_df[i, 'visits']
}
title = paste(k_days, "Days After", sep=" ")
plot(afghanistan, col=colors, bg="#A6CAE0", main=title, cex.main=5)
}
add_k_to_map(15, afghanistan)
add_k_to_map(30, afghanistan)
add_k_to_map(45, afghanistan)
add_k_to_map(60, afghanistan)
add_k_to_map(75, afghanistan)
add_k_to_map(90, afghanistan)
add_k_to_map(105, afghanistan)
add_k_to_map(120, afghanistan)
# attribute colors to the map
#visits_per_district <- cut(k15_df@$visits. )
afghanistan@data$DISTID = as.numeric(afghanistan@data$DISTID)
visits <- cut(k_event_df$visits, COLOR_BINS)
colors <- color_palette[as.numeric(visits)]
add_k_to_map <- function(k_days, afghanistan) {
k_days_df <- k_event_df[which(k_event_df$visit_day - k_event_df$impact_day == k_days),]
afghanistan@data$visits = 0
for (i in 1:nrow(k_days_df)) {
#print(k15_df[i, 'visits'])
afghanistan@data$visits[afghanistan@data$DISTID == k_days_df[i, 'destination_district']] <- k_days_df[i, 'visits']
}
title = paste(k_days, "Days After", sep=" ")
plot(afghanistan, col=colors, bg="#A6CAE0", main=title, cex.main=5)
}
add_k_to_map(15, afghanistan)
add_k_to_map(30, afghanistan)
add_k_to_map(45, afghanistan)
add_k_to_map(60, afghanistan)
add_k_to_map(75, afghanistan)
add_k_to_map(90, afghanistan)
add_k_to_map(105, afghanistan)
add_k_to_map(120, afghanistan)
# attribute colors to the map
#visits_per_district <- cut(k15_df@$visits. )
afghanistan@data$DISTID = as.numeric(afghanistan@data$DISTID)
visits <- cut(k_event_df$visits, COLOR_BINS)
colors <- color_palette[as.numeric(visits)]
add_k_to_map <- function(k_days, afghanistan) {
k_days_df <- k_event_df[which(k_event_df$visit_day - k_event_df$impact_day == k_days),]
afghanistan@data$visits = 0
for (i in 1:nrow(k_days_df)) {
#print(k15_df[i, 'visits'])
afghanistan@data$visits[afghanistan@data$DISTID == k_days_df[i, 'destination_district']] <- k_days_df[i, 'visits']
}
title = paste(k_days, "Days After", sep=" ")
plot(afghanistan, col=colors, bg="#A6CAE0", main=title, cex.main=5)
}
add_k_to_map(15, afghanistan)
add_k_to_map(30, afghanistan)
add_k_to_map(45, afghanistan)
add_k_to_map(60, afghanistan)
add_k_to_map(75, afghanistan)
add_k_to_map(90, afghanistan)
add_k_to_map(105, afghanistan)
add_k_to_map(120, afghanistan)
# attribute colors to the map
#visits_per_district <- cut(k15_df@$visits. )
afghanistan@data$DISTID = as.numeric(afghanistan@data$DISTID)
visits <- cut(k_event_df$visits, COLOR_BINS)
colors <- color_palette[as.numeric(visits)]
add_k_to_map <- function(k_days, afghanistan) {
k_days_df <- k_event_df[which(k_event_df$visit_day - k_event_df$impact_day == k_days),]
afghanistan@data$visits = 0
for (i in 1:nrow(k_days_df)) {
#print(k15_df[i, 'visits'])
afghanistan@data$visits[afghanistan@data$DISTID == k_days_df[i, 'destination_district']] <- k_days_df[i, 'visits']
}
title = paste(k_days, "Days After", sep=" ")
plot(afghanistan, col=colors, bg="#A6CAE0", main=title, cex.main=3)
}
add_k_to_map(15, afghanistan)
add_k_to_map(30, afghanistan)
add_k_to_map(45, afghanistan)
add_k_to_map(60, afghanistan)
add_k_to_map(75, afghanistan)
add_k_to_map(90, afghanistan)
add_k_to_map(105, afghanistan)
add_k_to_map(120, afghanistan)
# attribute colors to the map
#visits_per_district <- cut(k15_df@$visits. )
afghanistan@data$DISTID = as.numeric(afghanistan@data$DISTID)
visits <- cut(k_event_df$visits, COLOR_BINS)
colors <- color_palette[as.numeric(visits)]
add_k_to_map <- function(k_days, afghanistan) {
k_days_df <- k_event_df[which(k_event_df$visit_day - k_event_df$impact_day == k_days),]
afghanistan@data$visits = 0
for (i in 1:nrow(k_days_df)) {
#print(k15_df[i, 'visits'])
afghanistan@data$visits[afghanistan@data$DISTID == k_days_df[i, 'destination_district']] <- k_days_df[i, 'visits']
}
title = paste(k_days, "Days After", sep=" ")
plot(afghanistan, col=colors, bg="#A6CAE0", main=title, cex.main=3)
}
add_k_to_map(15, afghanistan)
#add_k_to_map(30, afghanistan)
#add_k_to_map(45, afghanistan)
#add_k_to_map(60, afghanistan)
#add_k_to_map(75, afghanistan)
#add_k_to_map(90, afghanistan)
#add_k_to_map(105, afghanistan)
#add_k_to_map(120, afghanistan)
# attribute colors to the map
#visits_per_district <- cut(k15_df@$visits. )
library(ggplot2)
library(geojsonio)
library(dplyr)
library(RColorBrewer)
library(arules)
library(arulesViz)
library(grid)
afghanistan <- geojson_read("jsons/district398.json", what="sp")
k_event_df <- read.csv("data/k_event.csv", header = TRUE)
k_event_df
plot(afghanistan)
#k_days_df <- k_event_df[which(k_event_df$visit_day - k_event_df$impact_day == 15),]
#for (i in 1:nrow(k_days_df)) {
#  #print(k15_df[i, 'visits'])
#  afghanistan@data$visits[afghanistan@data$DISTID == k_days_df[i, 'destination_district']] <- k_days_df[i, 'visits']
#}
afghanistan@data
afghanistan@data$DISTID = as.numeric(afghanistan@data$DISTID)
visits <- cut(k_event_df$visits, COLOR_BINS)
colors <- color_palette[as.numeric(visits)]
add_k_to_map <- function(k_days, afghanistan) {
k_days_df <- k_event_df[which(k_event_df$visit_day - k_event_df$impact_day == k_days),]
afghanistan@data$visits = 0
for (i in 1:nrow(k_days_df)) {
#print(k15_df[i, 'visits'])
afghanistan@data$visits[afghanistan@data$DISTID == k_days_df[i, 'destination_district']] <- k_days_df[i, 'visits']
}
title = paste(k_days, "Days After", sep=" ")
plot(afghanistan, col=colors, bg="#A6CAE0", main=title, cex.main=3)
}
add_k_to_map(15, afghanistan)
#add_k_to_map(30, afghanistan)
#add_k_to_map(45, afghanistan)
#add_k_to_map(60, afghanistan)
#add_k_to_map(75, afghanistan)
#add_k_to_map(90, afghanistan)
#add_k_to_map(105, afghanistan)
#add_k_to_map(120, afghanistan)
afghanistan@data
# attribute colors to the map
#visits_per_district <- cut(k15_df@$visits. )
afghanistan@data$DISTID = as.numeric(afghanistan@data$DISTID)
visits <- cut(k_event_df$visits, COLOR_BINS)
colors <- color_palette[as.numeric(visits)]
add_k_to_map <- function(k_days, afghanistan) {
k_days_df <- k_event_df[which(k_event_df$visit_day - k_event_df$impact_day == k_days),]
afghanistan@data$visits = 0
for (i in 1:nrow(k_days_df)) {
#print(k15_df[i, 'visits'])
afghanistan@data$visits[afghanistan@data$DISTID == k_days_df[i, 'destination_district']] <- k_days_df[i, 'visits']
}
title = paste(k_days, "Days After", sep=" ")
plot(afghanistan, col=colors, bg="#A6CAE0", main=title, cex.main=3)
}
add_k_to_map(15, afghanistan)
#add_k_to_map(30, afghanistan)
#add_k_to_map(45, afghanistan)
#add_k_to_map(60, afghanistan)
#add_k_to_map(75, afghanistan)
#add_k_to_map(90, afghanistan)
#add_k_to_map(105, afghanistan)
#add_k_to_map(120, afghanistan)
afghanistan@data$visits
# attribute colors to the map
#visits_per_district <- cut(k15_df@$visits. )
afghanistan@data$DISTID = as.numeric(afghanistan@data$DISTID)
visits <- cut(k_event_df$visits, COLOR_BINS)
colors <- color_palette[as.numeric(visits)]
add_k_to_map <- function(k_days, afghanistan) {
k_days_df <- k_event_df[which(k_event_df$visit_day - k_event_df$impact_day == k_days),]
afghanistan@data$visits = 0
for (i in 1:nrow(k_days_df)) {
#print(k15_df[i, 'visits'])
afghanistan@data$visits[afghanistan@data$DISTID == k_days_df[i, 'destination_district']] <- k_days_df[i, 'visits']
}
title = paste(k_days, "Days After", sep=" ")
plot(afghanistan, col=colors, bg="#A6CAE0", main=title, cex.main=3)
afghanistan@data$visits
}
add_k_to_map(15, afghanistan)
afghanistan@data$DISTID = as.numeric(afghanistan@data$DISTID)
visits <- cut(k_event_df$visits, COLOR_BINS)
colors <- color_palette[as.numeric(visits)]
add_k_to_map <- function(k_days, afghanistan) {
k_days_df <- k_event_df[which(k_event_df$visit_day - k_event_df$impact_day == k_days),]
afghanistan@data$visits = 0
for (i in 1:nrow(k_days_df)) {
#print(k15_df[i, 'visits'])
afghanistan@data$visits[afghanistan@data$DISTID == k_days_df[i, 'destination_district']] <- k_days_df[i, 'visits']
}
title = paste(k_days, "Days After", sep=" ")
plot(afghanistan, col=colors, bg="#A6CAE0", main=title, cex.main=3)
afghanistan@data$visits
}
#add_k_to_map(15, afghanistan)
#add_k_to_map(30, afghanistan)
#add_k_to_map(45, afghanistan)
#add_k_to_map(60, afghanistan)
#add_k_to_map(75, afghanistan)
#add_k_to_map(90, afghanistan)
#add_k_to_map(105, afghanistan)
add_k_to_map(120, afghanistan)
# attribute colors to the map
#visits_per_district <- cut(k15_df@$visits. )
